import{d as N,r as m,a as I,c as P,b as w,w as t,l as g,j as i,f as a,h as r,i as o,t as E,e as R,k as $,n as h,q as c,v as q}from"./index-DbIPzh87.js";import{_ as K}from"./AuthCard.vue_vue_type_script_setup_true_lang-CsnN6An9.js";const j={key:0,class:"success-state text-center"},A={class:"success-icon mb-4"},D={class:"text-body-2 text-medium-emphasis mb-6"},L={class:"success-actions"},M={key:1},T={class:"text-center"},H=N({__name:"ForgotPasswordView",setup(U){const V=m(),s=I({email:""}),d=m(!1),v=m(!1),l=m(""),n=m(""),f=()=>{n.value="",s.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(n.value="Please enter a valid email address"):n.value="Email is required"},p=P(()=>s.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)&&!n.value),_=async()=>{if(f(),!!p.value){d.value=!0,l.value="";try{const u=await q({email:s.email});u.ok?v.value=!0:l.value=u.error||"Failed to send reset email"}catch{l.value="Network error occurred"}finally{d.value=!1}}},S=()=>{v.value=!1,s.email="",n.value="",l.value=""};return(u,e)=>{const b=r("v-icon"),B=r("v-avatar"),k=r("v-btn"),y=r("router-link"),C=r("v-alert"),z=r("v-text-field"),F=r("v-form");return c(),w(K,{title:"Reset Password",subtitle:"Enter your email address and we'll send you a reset link","max-width":400},{default:t(()=>[v.value?(c(),g("div",j,[i("div",A,[a(B,{size:"64",color:"success",class:"mb-4"},{default:t(()=>[a(b,{size:"32",color:"white"},{default:t(()=>[...e[2]||(e[2]=[o("mdi-email-check",-1)])]),_:1})]),_:1})]),e[7]||(e[7]=i("h3",{class:"text-h6 mb-3"},"Check Your Email",-1)),i("p",D,[e[3]||(e[3]=o(" If an account exists for ",-1)),i("strong",null,E(s.email),1),e[4]||(e[4]=o(", we've sent password reset instructions to your email address. ",-1))]),i("div",L,[a(k,{color:"primary",variant:"elevated",block:"",size:"large",onClick:S,class:"mb-3"},{default:t(()=>[...e[5]||(e[5]=[o(" Send Another Email ",-1)])]),_:1}),a(y,{to:"/auth/login",class:"text-primary text-decoration-none d-block text-center"},{default:t(()=>[...e[6]||(e[6]=[o(" Back to Sign In ",-1)])]),_:1})])])):(c(),g("div",M,[l.value?(c(),w(C,{key:0,type:"error",variant:"tonal",class:"mb-6",closable:"","onClick:close":e[0]||(e[0]=x=>l.value="")},{default:t(()=>[o(E(l.value),1)]),_:1})):R("",!0),a(F,{ref_key:"formRef",ref:V,onSubmit:h(_,["prevent"]),class:"forgot-password-form"},{default:t(()=>[a(z,{modelValue:s.email,"onUpdate:modelValue":e[1]||(e[1]=x=>s.email=x),label:"Email address",type:"email",variant:"outlined","prepend-inner-icon":"mdi-email-outline","error-messages":n.value,disabled:d.value,class:"mb-6",autocomplete:"email",placeholder:"Enter your email address",onBlur:f,onKeydown:$(_,["enter"])},null,8,["modelValue","error-messages","disabled"]),a(k,{type:"submit",color:"primary",size:"large",block:"",variant:"elevated",loading:d.value,disabled:!p.value||d.value,class:"mb-6 submit-btn"},{default:t(()=>[...e[8]||(e[8]=[o(" Send Reset Instructions ",-1)])]),_:1},8,["loading","disabled"]),i("div",T,[a(y,{to:"/auth/login",class:"text-primary text-decoration-none d-inline-flex align-center"},{default:t(()=>[a(b,{size:"18",class:"mr-1"},{default:t(()=>[...e[9]||(e[9]=[o("mdi-arrow-left",-1)])]),_:1}),e[10]||(e[10]=o(" Back to Sign In ",-1))]),_:1})])]),_:1},512)]))]),_:1})}}});export{H as default};
