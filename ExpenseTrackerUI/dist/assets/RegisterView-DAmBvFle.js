import{d as W,u as X,r as m,a as ee,c as ae,b as h,w as l,e as N,f as s,g as d,h as n,i as c,t as x,j as r,k as V,l as se,m as oe,s as te,F as le,n as re,p as ne,q as k}from"./index-DbIPzh87.js";import{_ as ie}from"./AuthCard.vue_vue_type_script_setup_true_lang-CsnN6An9.js";import{_ as $}from"./PasswordField.vue_vue_type_script_setup_true_lang-CFmK6Yik.js";import{_ as de}from"./SocialLoginButton.vue_vue_type_script_setup_true_lang-WTNeP4ch.js";const me={class:"form-fields"},ce={class:"divider mb-6"},ue={class:"social-login-section"},ve={class:"social-buttons d-flex flex-column gap-3"},pe={class:"provider-branding mb-4"},fe={class:"mock-user-info mb-6"},_e={class:"text-h6 mb-1"},be={class:"text-subtitle-2 text-medium-emphasis"},ge={class:"footer-links text-center"},we={class:"text-body-2 text-medium-emphasis mb-2"},Pe=W({__name:"RegisterView",setup(xe){const L=ne(),i=X(),F=m(),e=ee({name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}),p=m(""),f=m(""),u=m(""),_=m(""),y=m(""),b=m(!1),t=m(null),v=m(null),S=()=>{p.value="",e.name?e.name.trim().length<2&&(p.value="Name must be at least 2 characters"):p.value="Full name is required"},E=()=>{f.value="",e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(f.value="Please enter a valid email address"):f.value="Email is required"},T=()=>{u.value="",e.password?e.password.length<8?u.value="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.password)||(u.value="Password must contain uppercase, lowercase, and number"):u.value="Password is required",e.confirmPassword&&P()},P=()=>{_.value="",e.confirmPassword?e.password!==e.confirmPassword&&(_.value="Passwords do not match"):_.value="Please confirm your password"},U=()=>{y.value="",e.acceptTerms||(y.value="You must accept the terms and conditions")},z=ae(()=>e.name.trim().length>=2&&e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&e.password&&e.password.length>=8&&/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.password)&&e.password===e.confirmPassword&&e.acceptTerms&&!p.value&&!f.value&&!u.value&&!_.value&&!y.value),g=async()=>{if(S(),E(),T(),P(),U(),!z.value)return;(await i.register({name:e.name.trim(),email:e.email,password:e.password,confirmPassword:e.confirmPassword,acceptTerms:e.acceptTerms})).success&&L.push("/")},K=w=>{t.value=w,b.value=!0},q=async()=>{if(!t.value)return;v.value=t.value.id;const w=await i.socialLogin(t.value.id);v.value=null,b.value=!1,w.success&&L.push("/")},R=()=>{b.value=!1,t.value=null,v.value=null};return(w,a)=>{const M=n("v-alert"),B=n("v-text-field"),Z=n("v-checkbox"),C=n("v-btn"),j=n("v-divider"),D=n("v-form"),I=n("v-icon"),A=n("v-avatar"),J=n("v-card-title"),O=n("v-img"),Y=n("v-card-text"),G=n("v-card"),H=n("v-dialog"),Q=n("router-link");return k(),h(ie,{title:"Create Account",subtitle:"Join us today and start managing your finances"},{footer:l(()=>[r("div",ge,[r("p",we,[a[12]||(a[12]=c(" Already have an account? ",-1)),s(Q,{to:"/auth/login",class:"text-primary text-decoration-none font-weight-medium"},{default:l(()=>[...a[11]||(a[11]=[c(" Sign in ",-1)])]),_:1})])])]),default:l(()=>[d(i).error?(k(),h(M,{key:0,type:"error",variant:"tonal",class:"mb-6",closable:"","onClick:close":a[0]||(a[0]=o=>d(i).clearError())},{default:l(()=>[c(x(d(i).error),1)]),_:1})):N("",!0),s(D,{ref_key:"formRef",ref:F,onSubmit:re(g,["prevent"]),class:"register-form"},{default:l(()=>[r("div",me,[s(B,{modelValue:e.name,"onUpdate:modelValue":a[1]||(a[1]=o=>e.name=o),label:"Full name",type:"text",variant:"outlined","prepend-inner-icon":"mdi-account-outline","error-messages":p.value,disabled:d(i).isLoading,class:"mb-4",autocomplete:"name",onBlur:S,onKeydown:V(g,["enter"])},null,8,["modelValue","error-messages","disabled"]),s(B,{modelValue:e.email,"onUpdate:modelValue":a[2]||(a[2]=o=>e.email=o),label:"Email address",type:"email",variant:"outlined","prepend-inner-icon":"mdi-email-outline","error-messages":f.value,disabled:d(i).isLoading,class:"mb-4",autocomplete:"email",onBlur:E,onKeydown:V(g,["enter"])},null,8,["modelValue","error-messages","disabled"]),s($,{modelValue:e.password,"onUpdate:modelValue":a[3]||(a[3]=o=>e.password=o),label:"Password","prepend-inner-icon":"mdi-lock-outline","error-messages":u.value,disabled:d(i).isLoading,"show-strength-meter":!0,class:"mb-4",autocomplete:"new-password",onBlur:T,onKeydown:V(g,["enter"])},null,8,["modelValue","error-messages","disabled"]),s($,{modelValue:e.confirmPassword,"onUpdate:modelValue":a[4]||(a[4]=o=>e.confirmPassword=o),label:"Confirm password","prepend-inner-icon":"mdi-lock-check-outline","error-messages":_.value,disabled:d(i).isLoading,class:"mb-4",autocomplete:"new-password",onBlur:P,onKeydown:V(g,["enter"])},null,8,["modelValue","error-messages","disabled"]),s(Z,{modelValue:e.acceptTerms,"onUpdate:modelValue":[a[5]||(a[5]=o=>e.acceptTerms=o),U],"error-messages":y.value,disabled:d(i).isLoading,class:"mb-6 terms-checkbox","hide-details":"auto"},{label:l(()=>[...a[7]||(a[7]=[r("div",{class:"terms-label text-body-2"},[c(" I agree to the "),r("a",{href:"#",class:"text-primary text-decoration-none"},"Terms of Service"),c(" and "),r("a",{href:"#",class:"text-primary text-decoration-none"},"Privacy Policy")],-1)])]),_:1},8,["modelValue","error-messages","disabled"])]),s(C,{type:"submit",color:"primary",size:"large",block:"",variant:"elevated",loading:d(i).isLoading,disabled:!z.value||d(i).isLoading,class:"mb-6 submit-btn"},{default:l(()=>[...a[8]||(a[8]=[c(" Create Account ",-1)])]),_:1},8,["loading","disabled"]),r("div",ce,[s(j),a[9]||(a[9]=r("span",{class:"divider-text text-caption text-medium-emphasis px-3"}," Or sign up with ",-1))]),r("div",ue,[r("div",ve,[(k(!0),se(le,null,oe(d(te),o=>(k(),h(de,{key:o.id,provider:o,loading:v.value===o.id,disabled:d(i).isLoading,onClick:K},null,8,["provider","loading","disabled"]))),128))])])]),_:1},512),s(H,{modelValue:b.value,"onUpdate:modelValue":a[6]||(a[6]=o=>b.value=o),"max-width":"400",persistent:""},{default:l(()=>[t.value?(k(),h(G,{key:0,class:"social-modal"},{default:l(()=>[s(J,{class:"text-center pa-6"},{default:l(()=>[r("div",pe,[s(A,{color:t.value.color,size:"64"},{default:l(()=>[s(I,{icon:t.value.icon,size:"32",color:"white"},null,8,["icon"])]),_:1},8,["color"])]),r("h3",null,"Sign up with "+x(t.value.name),1)]),_:1}),s(Y,{class:"text-center pa-6 pt-0"},{default:l(()=>[r("div",fe,[s(A,{size:"80",class:"mb-3"},{default:l(()=>[s(O,{src:t.value.mockUser.avatar},null,8,["src"])]),_:1}),r("h4",_e,x(t.value.mockUser.name),1),r("p",be,x(t.value.mockUser.email),1)]),s(C,{color:"primary",size:"large",block:"",variant:"elevated",loading:v.value===t.value.id,onClick:q,class:"mb-3"},{default:l(()=>[c(" Continue as "+x(t.value.mockUser.name),1)]),_:1},8,["loading"]),s(C,{variant:"text",size:"large",block:"",onClick:R,disabled:v.value===t.value.id},{default:l(()=>[...a[10]||(a[10]=[c(" Cancel ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})):N("",!0)]),_:1},8,["modelValue"])]),_:1})}}});export{Pe as default};
